/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2020-08-02 14:10:00 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.util.*;

public final class index_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html;charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write('\r');
      out.write('\n');

String path = request.getContextPath();
String basePath = request.getScheme()+"://"+request.getServerName()+":"+request.getServerPort()+path+"/";

      out.write("\r\n");
      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("<head>\r\n");
      out.write("    <meta charset=\"UTF-8\">\r\n");
      out.write("    <title>Bootstrap-Table</title>\r\n");
      out.write("    \r\n");
      out.write("\t<link href=\"assets/bootstrap/css/bootstrap.min.css\" rel=\"stylesheet\"/> \r\n");
      out.write("\t<script src=\"assets/js/jquery.min.js\"></script>\r\n");
      out.write("\t<script src=\"assets/bootstrap/js/bootstrap.min.js\"></script>\r\n");
      out.write("\t\r\n");
      out.write("\t<link href=\"http://cdn.bootcss.com/bootstrap-table/1.9.1/bootstrap-table.min.css\" rel=\"stylesheet\"/> \r\n");
      out.write("\t<script src=\"http://cdn.bootcss.com/bootstrap-table/1.9.1/bootstrap-table.min.js\"></script>\r\n");
      out.write("\t<script src=\"http://cdn.bootcss.com/bootstrap-table/1.9.1/locale/bootstrap-table-zh-CN.min.js\"></script>\r\n");
      out.write("\t\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("<div>\r\n");
      out.write("\t<div>\r\n");
      out.write("\t\t<div class=\"col-*-12\">\r\n");
      out.write("\t\t    <div id=\"toolbar\">\r\n");
      out.write("\t\t        <div class=\"btn btn-primary glyphicon glyphicon-pencil\" data-toggle=\"modal\" data-target=\"#addModal\">添加记录</div>\r\n");
      out.write("\t\t        <div class=\"btn btn-danger glyphicon glyphicon-remove\" onclick=\"javascript:dels();\">批量删除</div>\r\n");
      out.write("\t\t    </div>\r\n");
      out.write("\t\t    \r\n");
      out.write("\t\t    <table id=\"table\" class=\"table table-hover\"></table>\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t<!-- 添加 -->\r\n");
      out.write("\t\t    <div class=\"modal fade\" id=\"addModal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n");
      out.write("\t\t       <div class=\"modal-dialog\">\r\n");
      out.write("\t\t            <div class=\"modal-content\">\r\n");
      out.write("\t\t                <div class=\"modal-header\">\r\n");
      out.write("\t\t                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\r\n");
      out.write("\t\t                    <h4 class=\"modal-title\" id=\"myModalLabel\">添加记录</h4>\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t                <div class=\"modal-body\">\r\n");
      out.write("\t\t                    <form role=\"form\" action=\"javascript:void(0)\" id=\"addForm\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"username\" placeholder=\"请输入用户名\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"password\" placeholder=\"请输入密码\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"email\" placeholder=\"请输入Email\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<label class=\"checkbox-inline\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"useable\" value=\"1\" checked>可用\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</label>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<label class=\"checkbox-inline\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"useable\" value=\"0\">禁用\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</label>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t                    </form>\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t                <div class=\"modal-footer\">\r\n");
      out.write("\t\t                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">取消</button>\r\n");
      out.write("\t\t                    <button type=\"button\" class=\"btn btn-primary\" id=\"addRecord\">提交</button>\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t            </div>\r\n");
      out.write("\t\t        </div>\r\n");
      out.write("\t\t    </div>\r\n");
      out.write("\t\t    \r\n");
      out.write("\t\t    <!-- 更新 -->\r\n");
      out.write("\t\t    <div class=\"modal fade\" id=\"updateModal\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\">\r\n");
      out.write("\t\t       <div class=\"modal-dialog\">\r\n");
      out.write("\t\t            <div class=\"modal-content\">\r\n");
      out.write("\t\t                <div class=\"modal-header\">\r\n");
      out.write("\t\t                    <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-hidden=\"true\">&times;</button>\r\n");
      out.write("\t\t                    <h4 class=\"modal-title\" id=\"myModalLabel\">更新记录</h4>\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t                <div class=\"modal-body\">\r\n");
      out.write("\t\t                    <form role=\"form\" action=\"javascript:void(0)\" id=\"updateForm\">\r\n");
      out.write("\t\t                    \t<input type=\"text\" hidden=\"hidden\" name=\"id\" id=\"id\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"username\" id=\"username\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"password\" id=\"password\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<input type=\"text\" class=\"form-control\" name=\"email\" id=\"email\">\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t\t\t\t\t\t\t<div class=\"form-group\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<label class=\"checkbox-inline\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"useable\" id=\"used\" value=\"1\" checked>可用\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</label>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t<label class=\"checkbox-inline\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<input type=\"radio\" name=\"useable\" id=\"unused\"  value=\"0\">禁用\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</label>\r\n");
      out.write("\t\t\t\t\t\t\t\t</div>\r\n");
      out.write("\t\t                    </form>\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t                <div class=\"modal-footer\">\r\n");
      out.write("\t\t                    <button type=\"button\" class=\"btn btn-default\" data-dismiss=\"modal\">取消</button>\r\n");
      out.write("\t\t                    <button type=\"button\" class=\"btn btn-primary\" id=\"updateRecord\">提交</button>\r\n");
      out.write("\t\t                </div>\r\n");
      out.write("\t\t            </div>\r\n");
      out.write("\t\t        </div>\r\n");
      out.write("\t\t    </div>\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t</div>\r\n");
      out.write("</div>\r\n");
      out.write("\t<script type=\"text/javascript\">\r\n");
      out.write("        $(function() {\r\n");
      out.write("\t\t\t$('#table').bootstrapTable({\r\n");
      out.write("                url: \"queryPage\",//数据源\r\n");
      out.write("\t\t\t\tdataType : \"json\",\r\n");
      out.write("                height: 667,//高度调整\r\n");
      out.write("                pagination: true,//是否分页\r\n");
      out.write("\t\t\t\tpageNumber : 1,\r\n");
      out.write("\t\t\t\tpageSize : 10,//单页记录数\r\n");
      out.write("\t\t\t\tpageList: [10, 25, 50, 100],//分页步进值\r\n");
      out.write("                sidePagination: \"server\",//服务端分页\r\n");
      out.write("                dataType: \"json\",//期待返回数据类型\r\n");
      out.write("                searchAlign: \"left\",//查询框对齐方式\r\n");
      out.write("                queryParamsType : \"undefined\",\r\n");
      out.write("\t\t\t\tqueryParams: function (params) {//请求参数\r\n");
      out.write("\t\t\t\t\treturn {\r\n");
      out.write("\t\t\t\t\t\tsortName : params.sortName,\r\n");
      out.write("\t\t\t\t\t\tsortOrder : params.sortOrder,\r\n");
      out.write("\t\t\t\t\t\tpageNo : params.pageNumber,\r\n");
      out.write("\t\t\t\t\t\tpageSize : params.pageSize,\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t},\r\n");
      out.write("                search: true,//是否搜索\r\n");
      out.write("                buttonsAlign: \"left\",//按钮对齐方式\r\n");
      out.write("                searchOnEnterKey: false,//回车搜索\r\n");
      out.write("                showRefresh: true,//刷新按钮\r\n");
      out.write("                showColumns: true,//列选择按钮\r\n");
      out.write("\t\t\t\tclickToSelect: true,\r\n");
      out.write("                toolbar: \"#toolbar\",//指定工具栏\r\n");
      out.write("                toolbarAlign: \"right\",//工具栏对齐方式\r\n");
      out.write("\t\t\t\tsortName : \"id\",\r\n");
      out.write("\t\t\t\tsortOrder : \"desc\",\r\n");
      out.write("\t\t\t\tcache: false,\r\n");
      out.write("                columns: [{\r\n");
      out.write("\t\t\t\t\ttitle: \"全选\", field: \"select\", checkbox: true, width: 20,align: \"center\",valign: \"middle\"//垂直\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '用户名', field : 'username', align : 'center', valign : 'middle'\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '', field : 'password', align : 'center', valign : 'middle'\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '邮箱地址', field : 'email', align : 'center'\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '是否可用', field : 'useable', align : 'center', formatter : function(value, row, index) {\r\n");
      out.write("\t\t\t\t\t\treturn 1 == row.useable ? \"<font color='blue'>可用</font>\" : \"<font color='red'>禁用</font>\";\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '注册时间', field : 'addtime', align : 'center'\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '登录时间', field : 'logintime', align : 'center'\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '登录IP', field : 'loginip', align : 'center'\r\n");
      out.write("\t\t\t\t},{\r\n");
      out.write("\t\t\t\t\ttitle : '操作', field : 'id', align : 'center', formatter : function(value, row, index) {\r\n");
      out.write("\t\t\t\t\t\tvar edit = '<button type=\"button\" class=\"btn btn-default\" onclick=\"javascript:showUpdateModal(' + row.id + ',\\'' + row.username + '\\',\\'' + row.password + '\\',\\'' + row.email + '\\',' + row.useable + ')\"><span class=\"glyphicon glyphicon-pencil\" aria-hidden=\"true\"></span>更新</button>';\r\n");
      out.write("\t\t\t\t\t\tvar del = '<button type=\"button\" class=\"btn btn-default\" onclick=\"javascript:dels(\\'' + row.id + '\\')\"><span class=\"glyphicon glyphicon-remove\" aria-hidden=\"true\"></span>删除</button>';\r\n");
      out.write("\t\t\t\t\t\treturn edit + del;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}],\r\n");
      out.write("                locale: \"zh-CN\",//中文支持,\r\n");
      out.write("                detailView: false //是否显示详情折叠\r\n");
      out.write("            });\r\n");
      out.write("            //隐藏密码列\r\n");
      out.write("\t\t\t$('#table').bootstrapTable('hideColumn', 'password');\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//添加数据\r\n");
      out.write("            $(\"#addRecord\").click(function(){\r\n");
      out.write("            \tvar data = $(\"#addForm\").serialize();\r\n");
      out.write("\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl: \"addUser\",\r\n");
      out.write("\t\t\t\t\tdataType: \"json\",\r\n");
      out.write("\t\t\t\t\ttype: \"post\",\r\n");
      out.write("\t\t\t\t\tdata: data,\r\n");
      out.write("\t\t\t\t\tsuccess: function (req){\r\n");
      out.write("\t\t\t\t\t\tif (req.retcode == 1) {\r\n");
      out.write("\t\t\t\t\t\t\t$('#addModal').modal('hide');\r\n");
      out.write("\t\t\t\t\t\t\t$('#table').bootstrapTable('refresh');\r\n");
      out.write("\t\t\t            } else {\r\n");
      out.write("\t\t\t            \talert(\"添加失败\");\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\terror: function(req){}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("            });\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t//更新数据\r\n");
      out.write("            $(\"#updateRecord\").click(function(){\r\n");
      out.write("            \tvar data = $(\"#updateForm\").serialize();\r\n");
      out.write("\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl: \"updateUser\",\r\n");
      out.write("\t\t\t\t\tdataType: \"json\",\r\n");
      out.write("\t\t\t\t\ttype: \"post\",\r\n");
      out.write("\t\t\t\t\tdata: data,\r\n");
      out.write("\t\t\t\t\tsuccess: function (req){\r\n");
      out.write("\t\t\t\t\t\tif (req.retcode == 1) {\r\n");
      out.write("\t\t\t\t\t\t\t$('#updateModal').modal('hide');\r\n");
      out.write("\t\t\t\t\t\t\t$('#table').bootstrapTable('refresh');\r\n");
      out.write("\t\t\t            } else {\r\n");
      out.write("\t\t\t            \talert(\"更新失败\");\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\terror: function(req){}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("            });\r\n");
      out.write("        })\r\n");
      out.write("\r\n");
      out.write("\t\t//显示更新模态框\r\n");
      out.write("\t\tfunction showUpdateModal(id, username, password, email, useable){\r\n");
      out.write("\t\t\t$(\"#id\").val(id);\r\n");
      out.write("\t\t\t$(\"#username\").val(username);\r\n");
      out.write("\t\t\t$(\"#password\").val(password);\r\n");
      out.write("\t\t\t$(\"#email\").val(email);\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$('#updateModal').modal('show');\r\n");
      out.write("\t\t}\r\n");
      out.write("        \r\n");
      out.write("        //获取选择ID\r\n");
      out.write("\t\tfunction getIdSelections() {\r\n");
      out.write("\t\t\treturn $.map($('#table').bootstrapTable('getSelections'), function(row) {\r\n");
      out.write("\t\t\t\treturn row.id\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t//删除记录\r\n");
      out.write("\t\tfunction dels(ids) {\r\n");
      out.write("\t\t\tif(confirm(\"确定删除选中记录吗?\")){\r\n");
      out.write("\t\t\t\tif(undefined == ids){\r\n");
      out.write("\t\t\t\t\tids = getIdSelections();\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t$.ajax({\r\n");
      out.write("\t\t\t\t\turl : \"delUser?ids=\" + ids,\r\n");
      out.write("\t\t\t\t\tdataType : \"json\",\r\n");
      out.write("\t\t\t\t\ttype : \"post\",\r\n");
      out.write("\t\t\t\t\tsuccess : function(req) {\r\n");
      out.write("\t\t\t\t\t\tif (req.retcode == 1) {\r\n");
      out.write("\t\t\t\t\t\t\t$('#table').bootstrapTable('refresh');\r\n");
      out.write("\t\t\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\t\t\talert(\"删除失败\");\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t},\r\n");
      out.write("\t\t\t\t\terror : function(req) {}\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t} \r\n");
      out.write("    </script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
